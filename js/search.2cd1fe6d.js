(function(t){function e(e){for(var a,o,i=e[0],s=e[1],u=e[2],f=0,d=[];f<i.length;f++)o=i[f],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&d.push(c[o][0]),c[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);l&&l(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,i=1;i<n.length;i++){var s=n[i];0!==c[s]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},c={search:0},r=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=s;r.push([15,"chunk-vendors"]),n()})({0:function(t,e){},1:function(t,e){},10:function(t,e){},11:function(t,e){},12:function(t,e){},13:function(t,e){},14:function(t,e){},15:function(t,e,n){t.exports=n("b871")},"1e67":function(t){t.exports=JSON.parse('{"type":"service_account","project_id":"effortless-pod-320511","private_key_id":"adab7b07a4f518710a7c00c3e31b8072c6847f38","private_key":"-----BEGIN PRIVATE KEY-----\\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCcWwHr6o4YpKoA\\nczTAqHOrOWBGag1fw1nTfepONWlxyhtYb6zvXO92XPPW95K9A9uCkmgJaH+WRMTQ\\n8xllHm3g8WRPipswMtMfpyKtQSpaV3MkAcFTbuSeTgaRAql1eKzHQPdckFtwemoI\\n6+jKLemk8XWznwiccMo057MJfOX18Xz12/Od/qu5FVkIzAzNHbX6Yw6YSaK5Cz45\\nGiQx6O7HY1fgWdoc1gT5jJENuJMzsYOoDZO/WLePJd21dY2Q9e2dOkcJRWZNajrE\\nUOfLojLiDxSnvsUi9wDmfwv4JcipYp8PsSd7trs4RMbMpTWjRteg7YEO7CEKhcdo\\npBUEWnc/AgMBAAECggEAA2tgptXQX4/HcANyFYmlNq3302mtQNZaJo80xMl2nW+7\\nvV3A9wG1IYVeh9JIdCxVmwE/l8UUvfhjaSrNshpwzo7EkHryoNE407WpTtkPRJue\\n0TOvK5pP+9cMRs6BXpyAd+1Hnom2CpiaCiYXXoGq6M4ysmrFPZ9alXjjv30wsNdV\\nfIufUQ0PjGV8etdvvRQ17NX3w7S3ZWAJdpfVX9wFh7BR1Quf7DxUFG9Q0ZTq3NSi\\npzLml3Emkay/ulAmT2bnok6Ge0cwtz3Bkf2Oo2HVbOFLxdlc99AU+f8wuMeora7v\\nzcDsfbdiVueHPjr8LRCgBnva8/fMZ9keGwALSkaJUQKBgQDbWsSJT+vyBwSTfeho\\nMp0TsezfGcA1eNTnY2pAcYOF6AqbhOkwUmt4jDgfPPMJ29QW+SfHDdcu02/koOE8\\nxfPg5Ev0b2sv/bBpxwEv8L5qRF0c8fswuS46jPRGW9AAc74Gw4zabFhPrAo67wGy\\nvOtdoXhHEije6UiNNECBhsd51QKBgQC2ee5sji0eLC5tWNPrPezrv9OCO9hGIngU\\nw/vjBujhPm15s70yNd0IBTF49kt7Mlk/DZOs53XfprEDej9x1czM89gyQjI4aQEm\\nFi5BDmh+k1Y06mXXS+HVmVNWtsyTIhB4iySlooCr1D/QPHUQg57MF2F8I05hE56x\\nZi3HOyECwwKBgGnR3/5eD/UybYK5uuSJhj16GEuIoLErGYqG6zsrh8eRqYxdEiG9\\noRsGigyH2rdm1Wo/yHC+vJBacCBbfE1VMdHMUNga6Bq+x9w/pNL70OBzGnhcRFG9\\nBBA6750BrdaJ/6JDtC+rFO9aj5TeuHMBsIn624ttt0nSQK3eB0B1RMYBAoGAaMhR\\nmfJ2hAn4yv+kCURxBNsNWI6G3ZczfzEfNjmkhpszgBwvO2LkvpNE2mIL6/14dBWW\\nxEXRURFGOmn7fqG3zcUEU6/haLUbXMSF4QOmC3ENoqsquduwHdjCm1uy05ZPAPld\\nnONYodLqpefhjQ8Xo7iVWRRpEKOUj+fNx8bzaMMCgYAe+73HNHEYAGyYGv7HmCEr\\n6QRwNpuKG8M7HgvBvCZkZ8pk6bgC3SMpvAQJ+FzAPWiwDguoxUJ+3l37RJEKr5//\\nMLL/+Y7r3vjXah2Ua1uhaM06XidZoYulWrvHdtMV31p2T6nm2ZXrC2e7/UKZw+jJ\\nBHCWj9ZgM9XP3cPjmGOpoA==\\n-----END PRIVATE KEY-----\\n","client_email":"googlesheet@effortless-pod-320511.iam.gserviceaccount.com","client_id":"107533034307099840238","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/googlesheet%40effortless-pod-320511.iam.gserviceaccount.com"}')},2:function(t,e){},3:function(t,e){},"3b6b":function(t,e,n){},4:function(t,e){},4360:function(t,e,n){"use strict";n("ac1f"),n("841c");var a=n("2b0e"),c=n("2f62");a["default"].use(c["a"]);var r=new c["a"].Store({state:{search:"",cart:JSON.parse(localStorage.getItem("cart_data"))},mutations:{searchChange:function(t,e){t.search=e},cartChange:function(t){t.cart=JSON.parse(localStorage.getItem("cart_data"))}}});e["a"]=r},5:function(t,e){},"5cc2":function(t,e,n){},6:function(t,e){},"67f6":function(t,e,n){},7:function(t,e){},"71c2":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("div",{staticClass:"nav-wrapper"},[n("div",{staticClass:"nav-container"},[n("div",{staticClass:"nav-bt customer-service",on:{click:t.goShelves}},[t._v("商品上架")]),n("div",{staticClass:"spacer"}),n("div",{staticClass:"nav-bt register"},[t._v("註冊")]),n("div",{staticClass:"nav-bt login"},[t._v("登入")])])]),n("div",{staticClass:"search-wrapper"},[n("Row",{staticClass:"search-container",attrs:{align:"middle"}},[n("Col",{attrs:{span:"4"}},[n("div",{staticClass:"logo"},[t._v("好物購物")])]),n("Col",{attrs:{span:"16"}},[n("div",{staticClass:"search-bar"},[n("Input",{staticClass:"search-input",attrs:{placeholder:"全館滿千免運",size:"large"},model:{value:t.$store.state.search,callback:function(e){t.$set(t.$store.state,"search",e)},expression:"$store.state.search"}}),n("Button",{attrs:{icon:"md-search",size:"large"},on:{click:t.goSearch}})],1)]),n("Col",{staticClass:"d-flex justify-center align-center",attrs:{span:"4"}},[n("div",{staticClass:"shoppingCart-wrapper",on:{mouseover:function(e){t.cartListShow=!0},mouseleave:function(e){t.cartListShow=!1}}},[n("div",{staticClass:"shoppingCart"},[n("Icon",{attrs:{type:"md-cart",size:"36",color:"#F44355"}}),null!==t.$store.state.cart?n("div",{staticClass:"cart-amount"},[t._v(t._s(t.$store.state.cart.length>99?"99+":t.$store.state.cart.length))]):t._e()],1),!0===t.cartListShow?n("div",{staticClass:"cartList"},[n("List",[0===t.cartList.length?n("ListItem",[n("div",[t._v("購物車尚無商品")])]):t._e(),t._l(t.cartList,(function(e,a){return n("ListItem",{key:a},[n("div",[t._v(t._s(e.name))]),n("div",{staticStyle:{"flex-grow":"1"}}),n("div",[t._v("$ "+t._s(e.price))])])}))],2)],1):t._e()])])],1)],1)])},c=[],r=(n("159b"),n("b0c0"),n("7db0"),n("ac1f"),n("841c"),n("2ef0")),o=n.n(r),i=n("1e67"),s=n("d340"),u=s.GoogleSpreadsheet,l=new u("1pS3Hr0FrTqYO7KOFnEwv75O2-vyVaoLvCLCg_FgMOE0"),f={data:function(){return{commodity:[],cartListShow:!1}},created:function(){var t=this;l.useServiceAccountAuth(i).then((function(){l.loadInfo().then((function(){var e=l.sheetsByTitle["commodity"];e.getRows().then((function(e){var n=[];o.a.forEach(e,(function(t){n.push({id:t.id,name:t.name,price:t.price,amount:t.amount,delivery:t.delivery,content:t.content,img:t.img})})),t.commodity=n}))}))}))},computed:{cartList:function(){var t=this,e=[];return o.a.forEach(this.$store.state.cart,(function(n,a){if(!(a<3))return!1;e.push(o.a.find(t.commodity,{id:n.id}))})),e}},methods:{goSearch:function(){-1===window.location.href.indexOf("search")&&(window.location.href="./search?keyword=".concat(this.$store.state.search))},goShelves:function(){window.location.href="./shelves"}}},d=f,p=(n("ff39"),n("2877")),h=Object(p["a"])(d,a,c,!1,null,"0781cc05",null);e["a"]=h.exports},8:function(t,e){},9:function(t,e){},9301:function(t,e,n){"use strict";n("3b6b")},"93c6":function(t,e,n){"use strict";n("67f6")},"9fed":function(t,e,n){},a18c:function(t,e,n){"use strict";var a=n("2b0e"),c=n("8c4f");a["default"].use(c["a"]);var r=[],o=new c["a"]({routes:r});e["a"]=o},b871:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("my-header"),n("div",{staticClass:"main-wrapper"},[n("Row",{attrs:{gutter:16}},[n("Col",{staticClass:"filter-aside",attrs:{span:"4"}},[n("div",{staticClass:"d-flex align-center"},[n("Icon",{attrs:{type:"ios-funnel"}}),n("div",[t._v("篩選條件")])],1)]),n("Col",{staticClass:"search-list",attrs:{span:"20"}},[n("Row",{attrs:{gutter:12}},t._l(t.showList,(function(e,a){return n("Col",{key:a,staticClass:"search-item",attrs:{span:"6"}},[n("Card",{attrs:{padding:0},nativeOn:{click:function(n){return t.goItem(e)}}},[n("div",[n("div",[n("img",{staticClass:"item-img",attrs:{src:e.img}})]),n("div",{staticClass:"content-wrapper"},[n("div",{staticClass:"item-name"},[t._v(" "+t._s(e.name)+" ")]),n("div",{staticClass:"item-price"},[t._v("$ "+t._s(e.price))])])])])],1)})),1)],1)],1),n("div",{staticClass:"page-container d-flex justify-center"},[n("my-page",{attrs:{length:t.pageLength},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1),n("BackTop")],1)},r=[],o=(n("4de4"),n("b0c0"),n("ac1f"),n("841c"),n("fb6a"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("159b"),n("2ef0")),i=n.n(o),s=n("71c2"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"page-wrapper"},[n("div",{staticClass:"page-item pre-page",on:{click:function(e){return t.pageChange(t.page<=1?1:t.page-1)}}},[n("Icon",{attrs:{type:"ios-arrow-back"}})],1),t._l(t.length,(function(e,a){return n("div",{key:a,staticClass:"page-item",class:{current:e===t.page},on:{click:function(n){return t.pageChange(e)}}},[t._v(" "+t._s(e)+" ")])})),n("div",{staticClass:"page-item next-page",on:{click:function(e){return t.pageChange(t.page>=10?10:t.page+1)}}},[n("Icon",{attrs:{type:"ios-arrow-forward"}})],1)],2)])},l=[],f=(n("a9e3"),{model:{prop:"page",event:"change"},props:{page:{type:Number,default:1},length:{type:Number,default:10}},data:function(){return{}},methods:{pageChange:function(t){this.$emit("change",t)}}}),d=f,p=(n("93c6"),n("2877")),h=Object(p["a"])(d,u,l,!1,null,"fb330e5e",null),g=h.exports,v=n("1e67"),m=n("d340"),w=m.GoogleSpreadsheet,C=new w("1pS3Hr0FrTqYO7KOFnEwv75O2-vyVaoLvCLCg_FgMOE0"),y={components:{myHeader:s["a"],myPage:g},data:function(){return{commodity:[],page:1}},computed:{searchList:function(){var t=this,e=i.a.filter(this.commodity,(function(e){return-1!==e.name.indexOf(t.$store.state.search)}));return e},showList:function(){return i.a.slice(this.searchList,12*(this.page-1),12*this.page)},pageLength:function(){return Math.ceil(this.searchList.length/12)}},created:function(){var t=this,e=new URL(window.location),n=e.searchParams.get("keyword");null!==n&&this.$store.commit("searchChange",n),C.useServiceAccountAuth(v).then((function(){C.loadInfo().then((function(){var e=C.sheetsByTitle["commodity"];e.getRows().then((function(e){var n=[];i.a.forEach(e,(function(t){n.push({id:t.id,name:t.name,price:t.price,amount:t.amount,delivery:t.delivery,content:t.content,img:t.img})})),t.commodity=n}))}))}))},methods:{goItem:function(t){window.location.href="./item?id=".concat(t.id)}}},b=y,O=(n("9301"),Object(p["a"])(b,c,r,!1,null,"e7ea70a2",null)),_=O.exports,E=n("a18c"),A=n("4360"),k=n("f825"),S=n.n(k);n("f8ce"),n("5cc2");a["default"].config.productionTip=!1,a["default"].use(S.a),new a["default"]({router:E["a"],store:A["a"],render:function(t){return t(_)}}).$mount("#app")},ff39:function(t,e,n){"use strict";n("9fed")}});
//# sourceMappingURL=search.2cd1fe6d.js.map